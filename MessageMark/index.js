(function(a,t,o,k,v,A,l,r){"use strict";const{meta:b}=o.findByProps("colors","meta"),{useThemeContext:y}=o.findByProps("useThemeContext"),u=[];function R(e,n,c){return function(){try{return c.apply(this,arguments)}catch(i){console.error(`Error while running ${e} callback for ${n}:`,i)}}}const m=function(e,n,c,i){u.push(k.before(e,n,R("before",e,c),i))},P=function(){return u.forEach(function(e){return e()})},C=function(e){var n;return b.resolveSemanticColor(((n=y())===null||n===void 0?void 0:n.theme)??"dark",v.semanticColors[e])},f="Sent from Pyoncord";function d(){return t.storage.watermark.length<1?f:t.storage.watermark}function g(e){e.content=E(e.content)}function E(e){return t.storage.insertAfter?e+`
`+d():d()+`
`+e}const{FormDivider:F,FormInput:T,FormRadioRow:h,FormRow:s}=l.Forms,{ScrollView:p}=l.General,{TableRowGroup:w}=o.findByProps("TableRow");function B(){return A.useProxy(t.storage),r.createElement(p,{style:{margin:20}},r.createElement(w,{title:"Configuration"},r.createElement(s,{label:"Watermark text"}),r.createElement(T,{multiline:!0,placeholder:f,onChange:function(e){return t.storage.watermark=e},value:t.storage.watermark,style:{marginLeft:10,marginRight:10}}),r.createElement(F,null),r.createElement(s,{label:"Watermark position"}),r.createElement(h,{label:"Before message content",selected:!t.storage.insertAfter,onPress:function(){return t.storage.insertAfter=!1}}),r.createElement(h,{label:"After message content",selected:t.storage.insertAfter,onPress:function(){return t.storage.insertAfter=!0}})),r.createElement(w,{title:"Preview"},r.createElement(s,{style:{margin:10,padding:15,borderRadius:20,backgroundColor:C("BACKGROUND_MESSAGE_HOVER")},label:E("meow")})))}t.storage.watermark||(t.storage.watermark="Sent from Pyoncord"),t.storage.insertAfter||(t.storage.insertAfter=!0),m("sendMessage",o.findByProps("sendMessage","receiveMessage"),function(e){return g(e[1])}),m("uploadLocalFiles",o.findByProps("uploadLocalFiles"),function(e){return g(e[0].parsedMessage)});const M=function(){return P()};return a.onUnload=M,a.settings=B,a})({},vendetta.plugin,vendetta.metro,vendetta.patcher,vendetta.ui,vendetta.storage,vendetta.ui.components,window.React);

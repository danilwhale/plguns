(function(a,t,o,h,y,v,i,n){"use strict";const{meta:b}=o.findByProps("colors","meta"),{useThemeContext:p}=o.findByProps("useThemeContext"),l=[];function E(e,r,s){return function(){try{return s.apply(this,arguments)}catch(c){console.error(`Error while running ${e} callback for ${r}:`,c)}}}const u=function(e,r,s,c){l.push(h.before(e,r,E("before",e,s),c))},k=function(){return l.forEach(function(e){return e()})},R=function(e){var r;return b.resolveSemanticColor(((r=p())===null||r===void 0?void 0:r.theme)??"dark",y.semanticColors[e])},m=`> Sent from Pyoncord
$1`;function F(){return t.storage.watermark.length<1?m:t.storage.watermark}function d(e){e.content=f(e.content)}function f(e){return F().replaceAll("$1",e)}const{FormDivider:M,FormInput:C,FormRadioRow:S,FormRow:g}=i.Forms,{ScrollView:P}=i.General,{TableRowGroup:w}=o.findByProps("TableRow");function T(){return v.useProxy(t.storage),n.createElement(P,{style:{margin:20}},n.createElement(w,{title:"Configuration"},n.createElement(g,{label:"Watermark format",subLabel:"$1 will be replaced with your message!"}),n.createElement(C,{multiline:!0,placeholder:"ex. "+m,onChange:function(e){return t.storage.watermark=e},value:t.storage.watermark,style:{marginLeft:10,marginRight:10}})),n.createElement(w,{title:"Preview"},n.createElement(g,{style:{margin:10,padding:15,borderRadius:20,backgroundColor:R("BACKGROUND_MESSAGE_HOVER")},label:f("meow")})))}t.storage.watermark||(t.storage.watermark="Sent from Pyoncord"),t.storage.insertAfter||(t.storage.insertAfter=!0),u("sendMessage",o.findByProps("sendMessage","receiveMessage"),function(e){return d(e[1])}),u("uploadLocalFiles",o.findByProps("uploadLocalFiles"),function(e){return d(e[0].parsedMessage)});const A=function(){return k()};return a.onUnload=A,a.settings=T,a})({},vendetta.plugin,vendetta.metro,vendetta.patcher,vendetta.ui,vendetta.storage,vendetta.ui.components,window.React);
